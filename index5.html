<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll 5</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Poppins:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.7.0/jquery.lettering.min.js" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scrollbar/8.8.1/smooth-scrollbar.min.js" referrerpolicy="no-referrer"></script>
    <script src="alpha-scroll-5.js"></script>
</head>

<body>
    <div class="mouse-1">
        <div class="mos-1"></div>
    </div>
    <div class="Scroll-wrapper">
        <div class="the-main-wrapper">
            <div class="the-normal-wrapper">
                <div class="split-box">
                    <div>
                        <div class="mouse-wrapper">
                            <div class="mouse-2">
                                <div class="mos-2"></div>
                            </div>
                            <div class="mouse-3">
                                <div class="mos-3"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="split-box">
                    <div>
                        <div class="text-wrapper par-2">
                            <h1>
                                <span>Lorem</span><span>ipsum</span><span>dolor</span><span>sit</span><span>amet</span><span>convallis</span>
                            </h1>
                        </div>
                    </div>
                </div>
                <div class="split-box">
                    <div>
                        <div class="img-div">
                            <div class="img-wrapper par-0">
                                <img class="par-1" src="./image1.jpg" alt="">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="split-box">
                    <div>
                        <div class="img-div-2 par-4">
                            <div class="img-wrapper">
                                <img src="./image1.jpg" alt="">
                            </div>
                            <div class="img-wrapper">
                                <img src="./image1.jpg" alt="">
                            </div>
                            <div class="img-wrapper">
                                <img src="./image1.jpg" alt="">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="split-box">
                    <div>
                        <div class="sticky-wrapper">
                            <div class="sticky-element stk-1">
                                <p class="lettering">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lacus sed viverra tellus in hac habitasse.
                                    Tincidunt tortor aliquam nulla facilisi cras
                                    fermentum odio eu. Aenean euismod elementum nisi quis eleifend quam adipiscing vitae proin. At tempor commodo ullamcorper a lacus vestibulum. Sollicitudin ac orci phasellus egestas
                                    tellus
                                    rutrum tellus pellentesque eu.
                                    Vivamus arcu felis bibendum ut tristique et egestas. Phasellus vestibulum lorem sed risus ultricies tristique nulla aliquet enim. Amet massa vitae tortor condimentum. Amet nisl purus
                                    in
                                    mollis
                                    nunc sed. Turpis egestas
                                    sed tempus urna et pharetra pharetra massa massa.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="split-box">
                    <div>
                        <div class="sticky-wrapper-2">
                            <div class="stk-2"></div>
                            <div class="stk-2"></div>
                            <div class="stk-2"></div>
                        </div>
                    </div>
                </div>
                <div class="split-box">
                    <div>
                        <div class="sticky-wrapper-3">
                            <div class="stk-3">
                                <div class="stk-3-c">
                                    <div class="stk-3-i">STK</div>
                                    <div class="stk-3-i">STK</div>
                                    <div class="stk-3-i">STK</div>
                                    <div class="stk-3-i">STK</div>
                                    <div class="stk-3-i">STK</div>
                                    <div class="stk-3-i">STK</div>
                                    <div class="stk-3-i">STK</div>
                                    <div class="stk-3-i">STK</div>
                                    <div class="stk-3-i">STK</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="split-box">
                    <div>
                        <div class="sticky-wrapper-4">
                            <div class="stk-4">
                                <div class="stk-3-c stk-child">
                                    <div class="stk-3-i">
                                        <div>STK</div>
                                        <h3>LEFT</h3>
                                    </div>
                                    <div class="stk-3-i">
                                        <div>STK</div>
                                        <h3>LEFT</h3>
                                    </div>
                                    <div class="stk-3-i">
                                        <div>STK</div>
                                        <h3>LEFT</h3>
                                    </div>
                                    <div class="stk-3-i">
                                        <div>STK</div>
                                        <h3>LEFT</h3>
                                    </div>
                                    <div class="stk-3-i">
                                        <div>STK</div>
                                        <h3>LEFT</h3>
                                    </div>
                                    <div class="stk-3-i">
                                        <div>STK</div>
                                        <h3>LEFT</h3>
                                    </div>
                                    <div class="stk-3-i">
                                        <div>STK</div>
                                        <h3>LEFT</h3>
                                    </div>
                                    <div class="stk-3-i">
                                        <div>STK</div>
                                        <h3>LEFT</h3>
                                    </div>
                                    <div class="stk-3-i">
                                        <div>STK</div>
                                        <h3>LEFT</h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="split-box">
                    <div></div>
                </div>
                <div class="split-box">
                    <div></div>
                </div>
                <div class="split-box">
                    <div></div>
                </div>

            </div>
        </div>
    </div>

    <script>
        $(".lettering").lettering('words');
        $(".lettering span").each(function () {
            let $this = $(this);
            let $text = $this.html();
            if ($text == '') {
                $this.remove();
            }
        })
    </script>

    <script>
        // before active Als_split
        // container:real content , wrapper:scroll element
        function act_split(container, wrapper, splitElm, split) {
            let $container = $(container);
            let $wrapper = $(wrapper);
            let $wrapper_class = $wrapper.attr('class');

            var is_mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)
            var is_split = split ? split : 0;
            if (is_split == 1) {
                if (!is_mobile) {
                    $wrapper.addClass('split-warpper')
                    $wrapper.removeClass($wrapper_class)
                    $('body').append(`<div class="split-outer ${$wrapper_class}"><div></div></div>`)
                    init_scroll(wrapper, 0.05, 0, container, 1)
                    Als_split(splitElm, 0, 100)
                } else {
                    init_scroll(wrapper, 0.1, 0, null, 1)
                }
            } else {
                init_scroll(wrapper, 0.05, 0, null, 0)
            }
        }
        act_split('.the-normal-wrapper', '.Scroll-wrapper', '.split-box', 1)


        // set special effect
        // parallax effect
        Als_parallax('.par-0 , .par-1 , .par-2', 0, 0.05, 0.05, 0)
        Als_parallax('.par-4', 1, 0.05, 0.05, 0)
        // sticky effect
        Als_sticky('.stk-1 , .stk-2 , .stk-3 , .stk-4', 1, 0.05, 0.05, 0)
        Als_sticky_child('.stk-4 .stk-child > div', 1, 0);
        // mouse effect
        Als_mouse('.mos-1', 0, 0.05, 0.05, 1, 0)
        Als_mouse('.mos-2', 1, 0.05, 0.05, 0, 0)
        Als_mouse('.mos-3', '150', 0.05, 0.05, 0, 0)

        // scroll animation
        function run_Als() {
            // split effect
            $('.split-elm').each(function () {
                let $this = $(this);
                $this.css('transform', `translate3d(0px, ${$this.attr('data-spl_yy') * 1}px, 0px)`)
            })

            // parallax effect
            $('.par-1').each(function () {
                let $this = $(this);
                $this.css('transform', `translate3d(0px, ${$this.attr('data-yy') * -0.8}px, 0px)`)
            })
            $('.par-2').each(function () {
                let $this = $(this);
                $this.css('transform', `translate3d(0px, ${$this.attr('data-yy') * -0.2}px, 0px)`)
                $this.find('span').eq(0).css({
                    'transform': `translate3d(0px, ${$this.attr('data-yy') * 0.1}px, 0px)`,
                    'opacity': `${3 - $this.attr('data-pg_yf')}`,
                })
                $this.find('span').eq(2).css({
                    'transform': `translate3d(0px, ${$this.attr('data-yy') * 0.15}px, 0px)`,
                    'opacity': `${3 - $this.attr('data-pg_yf')}`,
                })
                $this.find('span').eq(4).css({
                    'transform': `translate3d(0px, ${$this.attr('data-yy') * -0.1}px, 0px)`,
                    'opacity': `${3 - $this.attr('data-pg_yf')}`,
                })
            })
            $('.par-4 > div').each(function () {
                let $this = $(this);
                let $index = $this.index();
                let $parent = $this.parent();
                $this.css({
                    'transform': `translate3d(0px, ${$parent.attr('data-yy') * 0.1 * ($index + 1)}px, 0px)`,
                    'opacity': `${$parent.attr('data-pg_yf')}`,
                })
            })

            // sticky effect
            $('.stk-1').each(function () {
                let $this = $(this);
                let $height = $this.height();
                $this.parent().height($height * 3)
                $this.css('transform', `translate3d(0px, ${$this.attr('data-yy') * -1}px, 0px)`)
                // sticky special scroll in scroll effect
                let $child_height = $this.children().outerHeight()
                let $range = $child_height - $height
                $this.children().css('transform', `translate3d(0px, ${parseFloat($this.attr('data-progress')) * -$range}px, 0px)`)
            })
            // sticky special text effect
            let $stk_1_spanlength = $('.stk-1 span').length;
            $('.stk-1 span').each(function () {
                let $this = $(this);
                let $spanIndex = $this.index()
                let $progress = parseFloat($this.parents('.stk-1').attr('data-progress_f'))
                // let $opacity = ($progress * $stk_1_spanlength - $spanIndex)
                let $opacity = $progress - Math.abs($progress * ($spanIndex / $stk_1_spanlength) - ($spanIndex / $stk_1_spanlength))
                $this.css({ 'opacity': `${$opacity}` })
            })
            // sticky effect
            $('.stk-2').each(function () {
                let $this = $(this);
                let $height = $this.height();
                $this.parent().height($height * 6)
                $this.css('transform', `translate3d(0px, ${$this.attr('data-yy') * -1}px, 0px)`)
            })
            // sticky effect simple x scroll (base on element itselt width)
            $('.stk-3').each(function () {
                let $this = $(this);
                let $width = $this.width();
                $this.parent().height($width * 1)
                $this.css('transform', `translate3d(${$this.attr('data-xx') * 1}px, ${$this.attr('data-yy') * -1}px, 0px)`)
            })
            // sticky effect special x scroll (base on child element width)
            $('.stk-4').each(function () {
                let $this = $(this);
                let $width = $this.children().width()
                $this.parent().height($width * 1)
                $this.css('transform', `translate3d(0px, ${$this.attr('data-yy') * -1}px, 0px)`)
                // x scroll
                let $range = ($this.children().width() - $this.width()) * parseFloat($this.attr('data-progress'))
                $this.children().css('transform', `translate3d(${$range * -1}px, 0px, 0px)`)
                // set a data for child effect
                $this.children().attr('data-range', $range)
            })
            // sticky effect x child in child element effect (base on child element width)
            $('.stk-4 .stk-child > div').each(function () {
                let $this = $(this);
                let $range = $this.parent().attr('data-range')
                // center is 0
                let $center = parseFloat($this.attr('data-xx')) - parseFloat($range)
                $this.children('div').css('transform', `translate3d(${$center * 0.2}px, 0px, 0px)`)
                // left is 0
                let $left = parseFloat($this.attr('data-of_left')) - parseFloat($this.attr('data-of_parent_left')) - parseFloat($range)
                $this.children('h3').css('transform', `translate3d(${$left * 0.2}px, 0px, 0px)`)
            })

            // mouse effect
            $('.mos-1').each(function () {
                let $this = $(this);
                $this.css('transform', `translate3d(${$this.attr('data-mxx') * 1}px, ${$this.attr('data-myy') * 1}px, 0px)`)
            })
            $('.mos-2').each(function () {
                let $this = $(this);
                $this.css('transform', `translate3d(${$this.attr('data-mxx') * 1}px, ${$this.attr('data-myy') * 1}px, 0px)`)
            })
            $('.mos-3').each(function () {
                let $this = $(this);
                $this.css('transform', `translate3d(${$this.attr('data-mxx') * 1}px, ${$this.attr('data-myy') * 1}px, 0px)`)
            })



            // raf
            requestAnimationFrame(run_Als);
        }
        window.addEventListener("load", () => {
            requestAnimationFrame(run_Als);
        });
    </script>

</body>

</html>